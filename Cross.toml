[target.x86_64-unknown-linux-musl]
# 專門給你現在這個 target 用的設定
pre-build = [
    # 1. 裝 gcc / build-essential（裡面會有 gcc）
    "apt-get update && apt-get install -y build-essential",

    # 2. cross 裡面 host triple 會去找 x86_64-unknown-linux-gnu-gcc
    #    Debian 裝出來的是 x86_64-linux-gnu-gcc 或 gcc，所以幫它做 symlink
    "ln -sf /usr/bin/x86_64-linux-gnu-gcc /usr/local/bin/x86_64-unknown-linux-gnu-gcc || ln -sf /usr/bin/gcc /usr/local/bin/x86_64-unknown-linux-gnu-gcc || true",
]


[target.aarch64-unknown-linux-musl]
pre-build = [
    "apt-get update && apt-get install -y build-essential",
    "ln -sf /usr/bin/x86_64-linux-gnu-gcc /usr/local/bin/x86_64-unknown-linux-gnu-gcc || ln -sf /usr/bin/gcc /usr/local/bin/x86_64-unknown-linux-gnu-gcc || true",
]
